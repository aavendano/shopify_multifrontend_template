---
import TextBlock from '../atoms/TextBlock.astro';
import ProductPrice from './ProductPrice.astro';
import ProductStockIndicator from './ProductStockIndicator.astro';

interface Props {
  title: string;
  subtitle?: string;
  price: number | string;
  compareAtPrice?: number | string;
  currency?: string;
  quantity?: number;
  lowStockThreshold?: number;
}

const {
    title, subtitle, price, compareAtPrice, currency, quantity, lowStockThreshold
} = Astro.props;
---
<div class="card-content">
  <TextBlock tag="h3" size="4" weight="bold" class="mb-2">{title}</TextBlock>
  {subtitle && <TextBlock tag="p" size="6" class="mb-4" color="grey">{subtitle}</TextBlock>}

  <div class="mb-2">
    <ProductPrice price={price} compareAtPrice={compareAtPrice} currency={currency} showSavings={true} />
  </div>

  {quantity !== undefined && (
    <ProductStockIndicator quantity={quantity} lowStockThreshold={lowStockThreshold} />
  )}
</div>
