---
interface Props {
  price: number | string;
  currency?: string;
  compareAtPrice?: number | string;
  size?: 'small' | 'medium' | 'large';
  class?: string;
}

const {
  price,
  currency = 'USD',
  compareAtPrice,
  size = 'medium',
  class: className,
} = Astro.props;

const formatPrice = (amount: number | string) => {
  return new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: currency,
  }).format(Number(amount));
};

const priceSize = size === 'large' ? '4' : size === 'medium' ? '5' : '6';
---

<div class={`price-label ${className}`}>
  {compareAtPrice && (
    <span class="has-text-grey-light is-size-6 mr-2" style="text-decoration: line-through;">
      {formatPrice(compareAtPrice)}
    </span>
  )}
  <span class={`has-text-weight-bold is-size-${priceSize}`}>
    {formatPrice(price)}
  </span>
</div>
